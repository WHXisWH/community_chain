import{s as N,o as O,c as b}from"../chunks/scheduler.0efe6932.js";import{S as B,i as U,s as E,g as _,A as F,f as u,c as I,h as p,j as $,x as T,k as g,a as k,y as m,t as C,b as H,d as w,p as S,m as G,n as J,z as K,o as Q,r as j,u as q,v as P,w as z,e as L}from"../chunks/index.4ebdcf9a.js";import{e as M,u as R,A as W,o as X}from"../chunks/ActivityCard.c09a1b52.js";import{g as Y}from"../chunks/activities.17d0eb69.js";import{L as Z}from"../chunks/LoadingSpinner.cd21ff20.js";function V(f,l,t){const n=f.slice();return n[4]=l[t],n}function ee(f){let l,t=[],n=new Map,a,s=M(f[0]);const o=e=>e[4].id;for(let e=0;e<s.length;e+=1){let r=V(f,s,e),i=o(r);n.set(i,t[e]=A(i,r))}return{c(){l=_("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){l=p(e,"DIV",{class:!0});var r=$(l);for(let i=0;i<t.length;i+=1)t[i].l(r);r.forEach(u),this.h()},h(){g(l,"class","grid grid-cols-1 grid-cols-2 grid-cols-3")},m(e,r){k(e,l,r);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(l,null);a=!0},p(e,r){r&1&&(s=M(e[0]),S(),t=R(t,r,o,1,e,s,n,l,X,A,null,V),H())},i(e){if(!a){for(let r=0;r<s.length;r+=1)w(t[r]);a=!0}},o(e){for(let r=0;r<t.length;r+=1)C(t[r]);a=!1},d(e){e&&u(l);for(let r=0;r<t.length;r+=1)t[r].d()}}}function te(f){let l,t='<p>現在募集中の活動はありません。</p> <a href="/create" class="btn btn-primary">活動を作成する</a>';return{c(){l=_("div"),l.innerHTML=t,this.h()},l(n){l=p(n,"DIV",{class:!0,"data-svelte-h":!0}),T(l)!=="svelte-rmb4h2"&&(l.innerHTML=t),this.h()},h(){g(l,"class","empty")},m(n,a){k(n,l,a)},p:b,i:b,o:b,d(n){n&&u(l)}}}function le(f){let l,t,n,a,s,o="再読み込み",e,r;return{c(){l=_("div"),t=_("p"),n=G(f[2]),a=E(),s=_("button"),s.textContent=o,this.h()},l(i){l=p(i,"DIV",{class:!0});var h=$(l);t=p(h,"P",{});var d=$(t);n=J(d,f[2]),d.forEach(u),a=I(h),s=p(h,"BUTTON",{class:!0,"data-svelte-h":!0}),T(s)!=="svelte-iqkgzj"&&(s.textContent=o),h.forEach(u),this.h()},h(){g(s,"class","btn btn-primary"),g(l,"class","alert alert-danger")},m(i,h){k(i,l,h),m(l,t),m(t,n),m(l,a),m(l,s),e||(r=K(s,"click",f[3]),e=!0)},p(i,h){h&4&&Q(n,i[2])},i:b,o:b,d(i){i&&u(l),e=!1,r()}}}function re(f){let l,t,n,a,s="活動データを読み込み中...",o;return t=new Z({}),{c(){l=_("div"),j(t.$$.fragment),n=E(),a=_("p"),a.textContent=s,this.h()},l(e){l=p(e,"DIV",{class:!0});var r=$(l);q(t.$$.fragment,r),n=I(r),a=p(r,"P",{"data-svelte-h":!0}),T(a)!=="svelte-1cqsa8w"&&(a.textContent=s),r.forEach(u),this.h()},h(){g(l,"class","loading")},m(e,r){k(e,l,r),P(t,l,null),m(l,n),m(l,a),o=!0},p:b,i(e){o||(w(t.$$.fragment,e),o=!0)},o(e){C(t.$$.fragment,e),o=!1},d(e){e&&u(l),z(t)}}}function A(f,l){let t,n,a;return n=new W({props:{activity:l[4]}}),{key:f,first:null,c(){t=L(),j(n.$$.fragment),this.h()},l(s){t=L(),q(n.$$.fragment,s),this.h()},h(){this.first=t},m(s,o){k(s,t,o),P(n,s,o),a=!0},p(s,o){l=s;const e={};o&1&&(e.activity=l[4]),n.$set(e)},i(s){a||(w(n.$$.fragment,s),a=!0)},o(s){C(n.$$.fragment,s),a=!1},d(s){s&&u(t),z(n,s)}}}function ne(f){let l,t,n,a,s="<h1>コミュニティ活動一覧</h1> <p>地域社会に貢献し、報酬を得よう</p>",o,e,r,i;const h=[re,le,te,ee],d=[];function D(c,v){return c[1]?0:c[2]?1:c[0].length===0?2:3}return e=D(f),r=d[e]=h[e](f),{c(){l=E(),t=_("section"),n=_("div"),a=_("div"),a.innerHTML=s,o=E(),r.c(),this.h()},l(c){F("svelte-1lh67ml",document.head).forEach(u),l=I(c),t=p(c,"SECTION",{});var y=$(t);n=p(y,"DIV",{class:!0});var x=$(n);a=p(x,"DIV",{class:!0,"data-svelte-h":!0}),T(a)!=="svelte-1jvklsg"&&(a.innerHTML=s),o=I(x),r.l(x),x.forEach(u),y.forEach(u),this.h()},h(){document.title="コミュニティチェーン - 活動一覧",g(a,"class","header"),g(n,"class","container")},m(c,v){k(c,l,v),k(c,t,v),m(t,n),m(n,a),m(n,o),d[e].m(n,null),i=!0},p(c,[v]){let y=e;e=D(c),e===y?d[e].p(c,v):(S(),C(d[y],1,1,()=>{d[y]=null}),H(),r=d[e],r?r.p(c,v):(r=d[e]=h[e](c),r.c()),w(r,1),r.m(n,null))},i(c){i||(w(r),i=!0)},o(c){C(r),i=!1},d(c){c&&(u(l),u(t)),d[e].d()}}}function se(f,l,t){let n=[],a=!0,s=null;return O(async()=>{try{t(0,n=await Y()),t(1,a=!1)}catch(e){t(2,s="活動データの読み込みに失敗しました。"),t(1,a=!1),console.error(e)}}),[n,a,s,()=>window.location.reload()]}class ue extends B{constructor(l){super(),U(this,l,se,ne,N,{})}}export{ue as component};
