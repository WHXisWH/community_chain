import{s as ge,c as ve,r as Ie,d as Ae,o as De}from"../chunks/scheduler.0efe6932.js";import{S as Le,i as Te,s as A,g as s,m as be,A as Ve,f as i,c as D,h as a,j as C,x as O,n as Ee,k as e,a as oe,y as t,B as S,z,C as Ne,D as Ce,o as ye}from"../chunks/index.4ebdcf9a.js";import{g as me}from"../chunks/navigation.2c431d70.js";import{d as qe}from"../chunks/activities.f28ac22d.js";import{i as we}from"../chunks/auth.212dabd5.js";function _e(r){let f,l,u;return{c(){f=s("div"),l=s("p"),u=be(r[5]),this.h()},l(m){f=a(m,"DIV",{class:!0});var d=C(f);l=a(d,"P",{});var _=C(l);u=Ee(_,r[5]),_.forEach(i),d.forEach(i),this.h()},h(){e(f,"class","alert alert-danger")},m(m,d){oe(m,f,d),t(f,l),t(l,u)},p(m,d){d&32&&ye(u,m[5])},d(m){m&&i(f)}}}function je(r){let f,l,u,m="<h1>新しい活動を作成</h1> <p>地域に役立つ活動を募集しましょう</p>",d,_,y,h,n,b,T,F="タイトル",x,v,H,p,q,ne="活動内容",Z,g,$,w,j,ie="場所",ee,I,te,k,B,ue="報酬（ポイント）",le,E,re,P,N,R=r[4]?"作成中...":"活動を作成する",X,G,se,M,de="キャンセル",ae,ce,c=r[5]&&_e(r);return{c(){f=A(),l=s("section"),u=s("div"),u.innerHTML=m,d=A(),c&&c.c(),_=A(),y=s("div"),h=s("div"),n=s("form"),b=s("div"),T=s("label"),T.textContent=F,x=A(),v=s("input"),H=A(),p=s("div"),q=s("label"),q.textContent=ne,Z=A(),g=s("textarea"),$=A(),w=s("div"),j=s("label"),j.textContent=ie,ee=A(),I=s("input"),te=A(),k=s("div"),B=s("label"),B.textContent=ue,le=A(),E=s("input"),re=A(),P=s("div"),N=s("button"),X=be(R),se=A(),M=s("a"),M.textContent=de,this.h()},l(o){Ve("svelte-1pnng28",document.head).forEach(i),f=D(o),l=a(o,"SECTION",{class:!0});var U=C(l);u=a(U,"DIV",{class:!0,"data-svelte-h":!0}),O(u)!=="svelte-1nwanjn"&&(u.innerHTML=m),d=D(U),c&&c.l(U),_=D(U),y=a(U,"DIV",{class:!0});var fe=C(y);h=a(fe,"DIV",{class:!0});var pe=C(h);n=a(pe,"FORM",{});var V=C(n);b=a(V,"DIV",{class:!0});var J=C(b);T=a(J,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(T)!=="svelte-1k23gvq"&&(T.textContent=F),x=D(J),v=a(J,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),J.forEach(i),H=D(V),p=a(V,"DIV",{class:!0});var K=C(p);q=a(K,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(q)!=="svelte-nqxjqm"&&(q.textContent=ne),Z=D(K),g=a(K,"TEXTAREA",{id:!0,class:!0,placeholder:!0,rows:!0}),C(g).forEach(i),K.forEach(i),$=D(V),w=a(V,"DIV",{class:!0});var Q=C(w);j=a(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(j)!=="svelte-87plbx"&&(j.textContent=ie),ee=D(Q),I=a(Q,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Q.forEach(i),te=D(V),k=a(V,"DIV",{class:!0});var W=C(k);B=a(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(B)!=="svelte-1juedk5"&&(B.textContent=ue),le=D(W),E=a(W,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0,min:!0}),W.forEach(i),re=D(V),P=a(V,"DIV",{class:!0});var Y=C(P);N=a(Y,"BUTTON",{type:!0,class:!0});var he=C(N);X=Ee(he,R),he.forEach(i),se=D(Y),M=a(Y,"A",{href:!0,class:!0,"data-svelte-h":!0}),O(M)!=="svelte-169fy5k"&&(M.textContent=de),Y.forEach(i),V.forEach(i),pe.forEach(i),fe.forEach(i),U.forEach(i),this.h()},h(){document.title="活動作成 - コミュニティチェーン",e(u,"class","header"),e(T,"for","title"),e(T,"class","form-label"),e(v,"type","text"),e(v,"id","title"),e(v,"class","form-control"),e(v,"placeholder","例：公園の清掃活動"),v.required=!0,e(b,"class","form-group"),e(q,"for","description"),e(q,"class","form-label"),e(g,"id","description"),e(g,"class","form-control svelte-ejyn9t"),e(g,"placeholder","活動の詳細な説明を記入してください"),e(g,"rows","4"),g.required=!0,e(p,"class","form-group"),e(j,"for","location"),e(j,"class","form-label"),e(I,"type","text"),e(I,"id","location"),e(I,"class","form-control"),e(I,"placeholder","例：中央公園"),I.required=!0,e(w,"class","form-group"),e(B,"for","reward"),e(B,"class","form-label"),e(E,"type","number"),e(E,"id","reward"),e(E,"class","form-control"),e(E,"placeholder","例：100"),e(E,"min","1"),E.required=!0,e(k,"class","form-group"),e(N,"type","submit"),e(N,"class","btn btn-primary"),N.disabled=G=!r[6]||r[4],e(M,"href","/"),e(M,"class","btn btn-outline"),e(P,"class","form-actions svelte-ejyn9t"),e(h,"class","card-body"),e(y,"class","card"),e(l,"class","container")},m(o,L){oe(o,f,L),oe(o,l,L),t(l,u),t(l,d),c&&c.m(l,null),t(l,_),t(l,y),t(y,h),t(h,n),t(n,b),t(b,T),t(b,x),t(b,v),S(v,r[0]),t(n,H),t(n,p),t(p,q),t(p,Z),t(p,g),S(g,r[1]),t(n,$),t(n,w),t(w,j),t(w,ee),t(w,I),S(I,r[2]),t(n,te),t(n,k),t(k,B),t(k,le),t(k,E),S(E,r[3]),t(n,re),t(n,P),t(P,N),t(N,X),t(P,se),t(P,M),ae||(ce=[z(v,"input",r[8]),z(g,"input",r[9]),z(I,"input",r[10]),z(E,"input",r[11]),z(n,"submit",Ne(r[7]))],ae=!0)},p(o,[L]){o[5]?c?c.p(o,L):(c=_e(o),c.c(),c.m(l,_)):c&&(c.d(1),c=null),L&1&&v.value!==o[0]&&S(v,o[0]),L&2&&S(g,o[1]),L&4&&I.value!==o[2]&&S(I,o[2]),L&8&&Ce(E.value)!==o[3]&&S(E,o[3]),L&16&&R!==(R=o[4]?"作成中...":"活動を作成する")&&ye(X,R),L&80&&G!==(G=!o[6]||o[4])&&(N.disabled=G)},i:ve,o:ve,d(o){o&&(i(f),i(l)),c&&c.d(),ae=!1,Ie(ce)}}}function ke(r,f,l){let u,m;Ae(r,we,p=>l(12,m=p));let d="",_="",y="",h="",n=!1,b=null;De(()=>{m||(me("/"),alert("活動を作成するにはログインが必要です。"))});async function T(){if(u){l(4,n=!0),l(5,b=null);try{const p=await qe(d,_,y,Number(h));p?me(`/activity/${p}`):l(5,b="活動の作成に失敗しました。")}catch(p){l(5,b="活動作成処理中にエラーが発生しました。"),console.error(p)}finally{l(4,n=!1)}}}function F(){d=this.value,l(0,d)}function x(){_=this.value,l(1,_)}function v(){y=this.value,l(2,y)}function H(){h=Ce(this.value),l(3,h)}return r.$$.update=()=>{r.$$.dirty&15&&l(6,u=d.trim()&&_.trim()&&y.trim()&&h&&!isNaN(h)&&Number(h)>0)},[d,_,y,h,n,b,u,T,F,x,v,H]}class Oe extends Le{constructor(f){super(),Te(this,f,ke,je,ge,{})}}export{Oe as component};
