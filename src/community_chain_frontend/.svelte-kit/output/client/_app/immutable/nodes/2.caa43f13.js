import{s as N,o as O,d as b}from"../chunks/scheduler.dd7510fc.js";import{S as B,i as U,s as E,g as d,A as F,f,c as I,h as m,j as $,x as M,k as g,a as k,y as p,t as C,b as H,d as w,p as S,m as G,n as J,z as K,o as Q,r as j,u as q,v as P,w as z,e as D}from"../chunks/index.0a6f24ed.js";import{e as L,u as R,A as W,o as X}from"../chunks/ActivityCard.66d61228.js";import{g as Y}from"../chunks/activities.eaf521bd.js";import{L as Z}from"../chunks/LoadingSpinner.93b7a589.js";function V(u,s,t){const n=u.slice();return n[4]=s[t],n}function ee(u){let s,t=[],n=new Map,a,r=L(u[0]);const o=e=>e[4].id;for(let e=0;e<r.length;e+=1){let l=V(u,r,e),i=o(l);n.set(i,t[e]=A(i,l))}return{c(){s=d("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){s=m(e,"DIV",{class:!0});var l=$(s);for(let i=0;i<t.length;i+=1)t[i].l(l);l.forEach(f),this.h()},h(){g(s,"class","activities-grid svelte-5ums3c")},m(e,l){k(e,s,l);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(s,null);a=!0},p(e,l){l&1&&(r=L(e[0]),S(),t=R(t,l,o,1,e,r,n,s,X,A,null,V),H())},i(e){if(!a){for(let l=0;l<r.length;l+=1)w(t[l]);a=!0}},o(e){for(let l=0;l<t.length;l+=1)C(t[l]);a=!1},d(e){e&&f(s);for(let l=0;l<t.length;l+=1)t[l].d()}}}function te(u){let s,t='<p>現在募集中の活動はありません。</p> <a href="/create" class="btn btn-primary">活動を作成する</a>';return{c(){s=d("div"),s.innerHTML=t,this.h()},l(n){s=m(n,"DIV",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-rmb4h2"&&(s.innerHTML=t),this.h()},h(){g(s,"class","empty svelte-5ums3c")},m(n,a){k(n,s,a)},p:b,i:b,o:b,d(n){n&&f(s)}}}function se(u){let s,t,n,a,r,o="再読み込み",e,l;return{c(){s=d("div"),t=d("p"),n=G(u[2]),a=E(),r=d("button"),r.textContent=o,this.h()},l(i){s=m(i,"DIV",{class:!0});var h=$(s);t=m(h,"P",{});var _=$(t);n=J(_,u[2]),_.forEach(f),a=I(h),r=m(h,"BUTTON",{class:!0,"data-svelte-h":!0}),M(r)!=="svelte-iqkgzj"&&(r.textContent=o),h.forEach(f),this.h()},h(){g(r,"class","btn btn-primary"),g(s,"class","alert alert-danger svelte-5ums3c")},m(i,h){k(i,s,h),p(s,t),p(t,n),p(s,a),p(s,r),e||(l=K(r,"click",u[3]),e=!0)},p(i,h){h&4&&Q(n,i[2])},i:b,o:b,d(i){i&&f(s),e=!1,l()}}}function le(u){let s,t,n,a,r="活動データを読み込み中...",o;return t=new Z({}),{c(){s=d("div"),j(t.$$.fragment),n=E(),a=d("p"),a.textContent=r,this.h()},l(e){s=m(e,"DIV",{class:!0});var l=$(s);q(t.$$.fragment,l),n=I(l),a=m(l,"P",{"data-svelte-h":!0}),M(a)!=="svelte-1cqsa8w"&&(a.textContent=r),l.forEach(f),this.h()},h(){g(s,"class","loading svelte-5ums3c")},m(e,l){k(e,s,l),P(t,s,null),p(s,n),p(s,a),o=!0},p:b,i(e){o||(w(t.$$.fragment,e),o=!0)},o(e){C(t.$$.fragment,e),o=!1},d(e){e&&f(s),z(t)}}}function A(u,s){let t,n,a;return n=new W({props:{activity:s[4]}}),{key:u,first:null,c(){t=D(),j(n.$$.fragment),this.h()},l(r){t=D(),q(n.$$.fragment,r),this.h()},h(){this.first=t},m(r,o){k(r,t,o),P(n,r,o),a=!0},p(r,o){s=r;const e={};o&1&&(e.activity=s[4]),n.$set(e)},i(r){a||(w(n.$$.fragment,r),a=!0)},o(r){C(n.$$.fragment,r),a=!1},d(r){r&&f(t),z(n,r)}}}function ne(u){let s,t,n,a,r='<h1 class="svelte-5ums3c">コミュニティ活動一覧</h1> <p>地域社会に貢献し、報酬を得よう</p>',o,e,l,i;const h=[le,se,te,ee],_=[];function T(c,v){return c[1]?0:c[2]?1:c[0].length===0?2:3}return e=T(u),l=_[e]=h[e](u),{c(){s=E(),t=d("section"),n=d("div"),a=d("div"),a.innerHTML=r,o=E(),l.c(),this.h()},l(c){F("svelte-1lh67ml",document.head).forEach(f),s=I(c),t=m(c,"SECTION",{});var y=$(t);n=m(y,"DIV",{class:!0});var x=$(n);a=m(x,"DIV",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-1jvklsg"&&(a.innerHTML=r),o=I(x),l.l(x),x.forEach(f),y.forEach(f),this.h()},h(){document.title="コミュニティチェーン - 活動一覧",g(a,"class","header svelte-5ums3c"),g(n,"class","container svelte-5ums3c")},m(c,v){k(c,s,v),k(c,t,v),p(t,n),p(n,a),p(n,o),_[e].m(n,null),i=!0},p(c,[v]){let y=e;e=T(c),e===y?_[e].p(c,v):(S(),C(_[y],1,1,()=>{_[y]=null}),H(),l=_[e],l?l.p(c,v):(l=_[e]=h[e](c),l.c()),w(l,1),l.m(n,null))},i(c){i||(w(l),i=!0)},o(c){C(l),i=!1},d(c){c&&(f(s),f(t)),_[e].d()}}}function re(u,s,t){let n=[],a=!0,r=null;return O(async()=>{try{console.log("ホームページ: onMount内でgetActivities呼び出し"),t(0,n=await Y()),console.log("ホームページ: 活動一覧取得成功",n),t(1,a=!1)}catch(e){console.error("ホームページ: 活動一覧取得エラー",e),t(2,r="活動データの読み込みに失敗しました。"),t(1,a=!1)}}),[n,a,r,()=>window.location.reload()]}class fe extends B{constructor(s){super(),U(this,s,re,ne,N,{})}}export{fe as component};
